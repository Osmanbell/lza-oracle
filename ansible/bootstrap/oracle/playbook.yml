---
- hosts: all
  become: true
  gather_facts: false

  pre_tasks:
    - name: 🛠️ Install Python 3 with fallback and allow partial success
      raw: |
        sudo yum install -y python3 || sudo apt update && sudo apt install -y python3 || echo "continue"
      register: result
      changed_when: false
      failed_when: false

    - name: 🔍 Confirm Python 3 was installed
      raw: python3 --version || echo "Python 3 not available"

    - name: ✅ Gather facts after Python is ready
      setup:

  roles:
    - common
    - oracle19c
    - dbca
